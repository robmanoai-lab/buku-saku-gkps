<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Buku Saku GKPS - Partonggoan Parjumatanganan">
    <title>üìñ Buku Saku GKPS - Telegram Style</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }

        :root {
            --primary: #0088cc;
            --primary-dark: #0077b5;
            --secondary: #009688;
            --bg-dark: #212121;
            --bg-light: #f5f5f5;
            --bg-white: #ffffff;
            --text-primary: #ffffff;
            --text-secondary: #707579;
            --border-color: #e0e0e0;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            --shadow-heavy: 0 4px 16px rgba(0, 0, 0, 0.15);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .app-container {
            width: 100%;
            max-width: 1200px;
            height: 90vh;
            background: var(--bg-white);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow-heavy);
            display: flex;
            position: relative;
        }

        /* ===== SIDEBAR ===== */
        .sidebar {
            width: 320px;
            background: linear-gradient(180deg, var(--bg-dark) 0%, #1a1a1a 100%);
            color: var(--text-primary);
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            position: relative;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 10;
        }

        .sidebar-header h1 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 4px;
            background: linear-gradient(90deg, #00bfa5, #00e5ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .sidebar-header p {
            font-size: 14px;
            color: var(--text-secondary);
            opacity: 0.8;
        }

        .sidebar-search {
            padding: 16px;
            background: rgba(0, 0, 0, 0.2);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .search-box {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 8px 16px;
            display: flex;
            align-items: center;
        }

        .search-box input {
            background: transparent;
            border: none;
            color: var(--text-primary);
            width: 100%;
            padding: 4px 8px;
            font-size: 14px;
            outline: none;
        }

        .search-box input::placeholder {
            color: var(--text-secondary);
            opacity: 0.6;
        }

        .sidebar-chats {
            flex: 1;
            overflow-y: auto;
            padding: 8px 0;
        }

        .sidebar-chats::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar-chats::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        .sidebar-chats::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
        }

        .chat-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: var(--transition);
            border-left: 4px solid transparent;
        }

        .chat-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-left: 4px solid #00bfa5;
        }

        .chat-item.active {
            background: rgba(0, 191, 165, 0.15);
            border-left: 4px solid #00bfa5;
        }

        .chat-item-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chat-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 600;
            color: white;
            flex-shrink: 0;
        }

        .chat-info {
            flex: 1;
            min-width: 0;
        }

        .chat-title {
            font-size: 15px;
            font-weight: 500;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .chat-desc {
            font-size: 13px;
            color: var(--text-secondary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            opacity: 0.8;
        }

        .chat-time {
            font-size: 12px;
            color: var(--text-secondary);
            opacity: 0.6;
            margin-left: 8px;
            flex-shrink: 0;
        }

        .sidebar-footer {
            padding: 16px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
        }

        .sidebar-footer button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--text-primary);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            transition: var(--transition);
        }

        .sidebar-footer button:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        /* ===== MAIN CONTENT ===== */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            background: var(--bg-light);
            position: relative;
        }

        .chat-header {
            padding: 16px 24px;
            background: var(--bg-white);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 16px;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .chat-header .chat-avatar {
            width: 56px;
            height: 56px;
            font-size: 24px;
        }

        .chat-header-info h2 {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .chat-header-info p {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .chat-header-actions {
            margin-left: auto;
            display: flex;
            gap: 16px;
        }

        .chat-header-actions button {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .chat-header-actions button:hover {
            background: rgba(0, 0, 0, 0.05);
            color: var(--primary);
        }

        .chat-messages {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: transparent;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 3px;
        }

        .message {
            max-width: 80%;
            padding: 16px 20px;
            border-radius: 18px;
            position: relative;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-received {
            background: var(--bg-white);
            border-radius: 18px 18px 18px 4px;
            align-self: flex-start;
            box-shadow: var(--shadow);
        }

        .message-sent {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: var(--text-primary);
            border-radius: 18px 18px 4px 18px;
            align-self: flex-end;
            box-shadow: var(--shadow-heavy);
        }

        .message-time {
            font-size: 11px;
            color: var(--text-secondary);
            margin-top: 8px;
            text-align: right;
            opacity: 0.8;
        }

        .message-sent .message-time {
            color: rgba(255, 255, 255, 0.8);
        }

        .message-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--primary);
        }

        .message-sent .message-title {
            color: white;
        }

        .message-content {
            line-height: 1.6;
            font-size: 15px;
        }

        .message-content p {
            margin-bottom: 8px;
        }

        .message-content ul {
            padding-left: 20px;
            margin: 12px 0;
        }

        .message-content li {
            margin-bottom: 6px;
            list-style-type: none;
            position: relative;
            padding-left: 20px;
        }

        .message-content li::before {
            content: '‚Ä¢';
            position: absolute;
            left: 0;
            color: var(--primary);
            font-weight: bold;
            font-size: 18px;
        }

        .message-sent li::before {
            color: white;
        }

        .message-content ol {
            padding-left: 24px;
            margin: 12px 0;
        }

        .message-content ol li {
            margin-bottom: 6px;
        }

        .highlight {
            background: linear-gradient(120deg, rgba(255, 215, 0, 0.3), transparent);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }

        .message-sent .highlight {
            background: rgba(255, 255, 255, 0.3);
            color: white;
        }

        .bible-verse {
            background: linear-gradient(135deg, #fff9e6 0%, #fff3cd 100%);
            border-left: 4px solid #ffc107;
            padding: 16px;
            border-radius: 12px;
            margin: 12px 0;
            position: relative;
        }

        .bible-verse::before {
            content: '"';
            position: absolute;
            top: -10px;
            left: 10px;
            font-size: 3rem;
            color: rgba(255, 193, 7, 0.3);
            font-family: Georgia, serif;
        }

        .bible-reference {
            display: block;
            text-align: right;
            font-weight: 600;
            margin-top: 8px;
            color: #d39e00;
            font-style: italic;
        }

        .message-sent .bible-verse {
            background: rgba(255, 255, 255, 0.2);
            border-left-color: rgba(255, 255, 255, 0.5);
        }

        .message-sent .bible-reference {
            color: rgba(255, 255, 255, 0.9);
        }

        .card {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-left: 4px solid var(--primary);
            padding: 16px;
            border-radius: 12px;
            margin: 12px 0;
        }

        .card-title {
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-content {
            font-size: 14px;
            line-height: 1.6;
        }

        .message-sent .card {
            background: rgba(255, 255, 255, 0.2);
            border-left-color: rgba(255, 255, 255, 0.5);
        }

        .message-sent .card-title {
            color: white;
        }

        .message-sent .card-content {
            color: rgba(255, 255, 255, 0.9);
        }

        /* ===== FORM SECTION ===== */
        .form-section {
            background: var(--bg-white);
            border-radius: 16px;
            padding: 24px;
            margin-top: 20px;
            box-shadow: var(--shadow);
        }

        .form-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 14px;
            color: #555;
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 14px;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 136, 204, 0.1);
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .action-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 24px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            margin-top: 16px;
            box-shadow: var(--shadow-heavy);
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 136, 204, 0.4);
        }

        /* ===== INSTALL BANNER ===== */
        .install-banner {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 16px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 20;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .install-banner h3 {
            font-size: 16px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .install-banner p {
            font-size: 13px;
            opacity: 0.9;
            margin-bottom: 12px;
        }

        .install-btn {
            background: white;
            color: #ee5a24;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: var(--transition);
        }

        .install-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 968px) {
            .app-container {
                height: 95vh;
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                max-height: 40vh;
            }

            .main-content {
                height: auto;
                flex: 1;
            }

            .sidebar-chats {
                max-height: 250px;
            }
        }

        @media (max-width: 600px) {
            .app-container {
                height: 100vh;
                border-radius: 0;
            }

            .sidebar {
                max-height: 35vh;
            }

            .chat-header {
                padding: 12px 16px;
            }

            .chat-header .chat-avatar {
                width: 48px;
                height: 48px;
                font-size: 20px;
            }

            .chat-header-info h2 {
                font-size: 18px;
            }

            .chat-messages {
                padding: 16px;
            }

            .message {
                max-width: 90%;
            }

            .sidebar-footer {
                padding: 12px;
            }

            .sidebar-footer button {
                padding: 6px 12px;
                font-size: 12px;
            }
        }

        /* ===== ANIMATIONS ===== */
        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(0, 136, 204, 0.4);
            }
            50% {
                box-shadow: 0 0 0 10px rgba(0, 136, 204, 0);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .float {
            animation: float 3s ease-in-out infinite;
        }

        /* ===== BADGE ===== */
        .badge {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            position: absolute;
            top: -8px;
            right: -8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Install Banner -->
        <div class="install-banner">
            <h3><i class="fas fa-mobile-alt"></i> üì± Install Aplikasi Ini</h3>
            <p>Buka di Chrome ‚Üí Tap ‚ãÆ ‚Üí "Tambahkan ke Layar Utama" ‚Üí Beri nama "Buku Saku GKPS"</p>
            <button class="install-btn" onclick="showInstallGuide()">
                <i class="fas fa-info-circle"></i> Lihat Panduan Lengkap
            </button>
        </div>

        <!-- Sidebar - Chat List -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h1>üìñ Buku Saku GKPS</h1>
                <p>Partonggoan Parjumatanganan</p>
            </div>

            <div class="sidebar-search">
                <div class="search-box">
                    <i class="fas fa-search" style="color: var(--text-secondary); margin-right: 8px;"></i>
                    <input type="text" id="searchInput" placeholder="Cari bab..." oninput="filterChats()">
                </div>
            </div>

            <div class="sidebar-chats">
                <div class="chat-item active" onclick="showSection('pendahuluan')">
                    <div class="chat-item-content">
                        <div class="chat-avatar float">üìñ</div>
                        <div class="chat-info">
                            <div class="chat-title">A. Pendahuluan</div>
                            <div class="chat-desc">Pengantar ibadah parjumatanganan</div>
                        </div>
                        <div class="chat-time">1/12</div>
                    </div>
                </div>

                <div class="chat-item" onclick="showSection('dasar')">
                    <div class="chat-item-content">
                        <div class="chat-avatar">üìö</div>
                        <div class="chat-info">
                            <div class="chat-title">B.I. Dasar Pelaksanaan</div>
                            <div class="chat-desc">Dasar Alkitabiah & Teologis</div>
                        </div>
                        <div class="chat-time">2/12</div>
                    </div>
                </div>

                <div class="chat-item" onclick="showSection('tujuan')">
                    <div class="chat-item-content">
                        <div class="chat-avatar">üéØ</div>
                        <div class="chat-info">
                            <div class="chat-title">B.II. Tujuan</div>
                            <div class="chat-desc">Tujuan partonggoan jumatanganan</div>
                        </div>
                        <div class="chat-time">3/12</div>
                    </div>
                </div>

                <div class="chat-item" onclick="showSection('alasan')">
                    <div class="chat-item-content">
                        <div class="chat-avatar">‚ùì</div>
                        <div class="chat-info">
                            <div class="chat-title">B.III. Alasan</div>
                            <div class="chat-desc">Mengapa diperlukan</div>
                        </div>
                        <div class="chat-time">4/12</div>
                    </div>
                </div>

                <div class="chat-item" onclick="showSection('struktur')">
                    <div class="chat-item-content">
                        <div class="chat-avatar">üë•</div>
                        <div class="chat-info">
                            <div class="chat-title">B.IV. Struktur Pelaksana</div>
                            <div class="chat-desc">Struktur organisasi</div>
                        </div>
                        <div class="chat-time">5/12</div>
                    </div>
                </div>

                <div class="chat-item" onclick="showSection('petunjuk')">
                    <div class="chat-item-content">
                        <div class="chat-avatar">üìã</div>
                        <div class="chat-info">
                            <div class="chat-title">B.V. Petunjuk Pelaksanaan</div>
                            <div class="chat-desc">Panduan lengkap</div>
                        </div>
                        <div class="chat-time">6/12</div>
                    </div>
                </div>

                <div class="chat-item" onclick="showSection('tata-ibadah')">
                    <div class="chat-item-content">
                        <div class="chat-avatar">üôè</div>
                        <div class="chat-info">
                            <div class="chat-title">B.VI. Tata Ibadah</div>
                            <div class="chat-desc">Urutan ibadah</div>
                        </div>
                        <div class="chat-time">7/12</div>
                    </div>
                </div>

                <div class="chat-item" onclick="showSection('etika')">
                    <div class="chat-item-content">
                        <div class="chat-avatar">ü§ù</div>
                        <div class="chat-info">
                            <div class="chat-title">B.VII. Etika</div>
                            <div class="chat-desc">Etika ibadah & komunikasi</div>
                        </div>
                        <div class="chat-time">8/12</div>
                    </div>
                </div>

                <div class="chat-item" onclick="showSection('evaluasi')">
                    <div class="chat-item-content">
                        <div class="chat-avatar">üìä</div>
                        <div class="chat-info">
                            <div class="chat-title">B.VIII. Evaluasi</div>
                            <div class="chat-desc">Evaluasi ibadah</div>
                        </div>
                        <div class="chat-time">9/12</div>
                    </div>
                </div>

                <div class="chat-item" onclick="showSection('pengajaran')">
                    <div class="chat-item-content">
                        <div class="chat-avatar">üë®‚Äçüè´</div>
                        <div class="chat-info">
                            <div class="chat-title">B.IX. Pengajaran Sintua</div>
                            <div class="chat-desc">Tanggung jawab & materi</div>
                        </div>
                        <div class="chat-time">10/12</div>
                    </div>
                </div>

                <div class="chat-item" onclick="showSection('hasil')">
                    <div class="chat-item-content">
                        <div class="chat-avatar">üèÜ</div>
                        <div class="chat-info">
                            <div class="chat-title">B.X. Hasil Yang Diharapkan</div>
                            <div class="chat-desc">Target pelayanan</div>
                        </div>
                        <div class="chat-time">11/12</div>
                    </div>
                </div>

                <div class="chat-item" onclick="showSection('lampiran')">
                    <div class="chat-item-content">
                        <div class="chat-avatar">üìé</div>
                        <div class="chat-info">
                            <div class="chat-title">C. Lampiran</div>
                            <div class="chat-desc">Format laporan sintua</div>
                        </div>
                        <div class="chat-time">12/12</div>
                    </div>
                </div>
            </div>

            <div class="sidebar-footer">
                <button onclick="window.print()">
                    <i class="fas fa-print"></i> Cetak/PDF
                </button>
                <button onclick="clearForm()">
                    <i class="fas fa-trash"></i> Clear Form
                </button>
            </div>
        </div>

        <!-- Main Content - Chat Window -->
        <div class="main-content">
            <div class="chat-header">
                <div class="chat-avatar pulse">üìñ</div>
                <div class="chat-header-info">
                    <h2 id="currentSectionTitle">üìñ Buku Saku GKPS</h2>
                    <p id="currentSectionDesc">Partonggoan Parjumatanganan di GKPS</p>
                </div>
                <div class="chat-header-actions">
                    <button onclick="scrollToTop()">
                        <i class="fas fa-arrow-up"></i>
                    </button>
                    <button onclick="toggleTheme()">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button onclick="shareApp()">
                        <i class="fas fa-share-alt"></i>
                    </button>
                </div>
            </div>

            <div class="chat-messages" id="chatMessages">
                <!-- Messages will be inserted here by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Current active section
        let currentSection = 'pendahuluan';

        // Section data
        const sections = {
            'pendahuluan': {
                title: 'üìñ A. PENDAHULUAN',
                desc: 'Pengantar ibadah parjumatanganan',
                messages: [
                    {
                        type: 'received',
                        content: `<div class="message-title">A. PENDAHULUAN</div>
                        <div class="message-content">
                            <p>Ibadah <span class="highlight">Parjuma Tanganan</span> adalah bentuk persekutuan kecil jemaat di rumah-rumah warga jemaat GKPS, yang dilaksanakan untuk:</p>
                            <ul>
                                <li>Mempererat kasih</li>
                                <li>Memperdalam firman Tuhan</li>
                                <li>Menghadirkan kehidupan ibadah dalam keluarga</li>
                            </ul>
                        </div>`
                    },
                    {
                        type: 'sent',
                        content: `<div class="message-content">
                            <p>Melalui ibadah ini, jemaat:</p>
                            <ul>
                                <li>Membangun kebersamaan rohani</li>
                                <li>Saling menguatkan</li>
                                <li>Menjadi perpanjangan tangan gereja dalam pelayanan kepada keluarga-keluarga secara nyata</li>
                            </ul>
                        </div>`
                    },
                    {
                        type: 'received',
                        content: `<div class="card">
                            <div class="card-title">üìå Peran Sintua Parjumatanganan</div>
                            <div class="card-content">
                                Sesuai dengan Tata Laksana GKPS, Sintua parjumatanganan adalah Sintua yang membimbing atau memimpin Komunitas Jumatanganan. Sintua tersebutlah yang bertanggung jawab atas pembinaan rohani, koordinasi kegiatan, dan pelayanan di kelompok jumatanganan jemaat tersebut dan menjadi perpanjangan tangan gereja dalam pelayanan kepada keluarga.
                            </div>
                        </div>`
                    }
                ]
            },
            
            'dasar': {
                title: 'üìö B.I. DASAR PELAKSANAAN',
                desc: 'Dasar Alkitabiah & Teologis',
                messages: [
                    {
                        type: 'received',
                        content: `<div class="message-title">B.I. DASAR PELAKSANAAN</div>
                        <div class="message-content">
                            <p><strong>Dasar Alkitabiah:</strong></p>
                            <ul>
                                <li>a. Matius 18:20</li>
                                <li>b. Kisah Para Rasul 2:46‚Äì47</li>
                                <li>c. Ibrani 10:24‚Äì25</li>
                            </ul>
                        </div>`
                    },
                    {
                        type: 'sent',
                        content: `<div class="message-content">
                            <p><strong>Dasar Teologis:</strong> Secara teologis, pelayanan parjumatanganan adalah persekutuan kecil warga jemaat yang mencerminkan tubuh Kristus di mana setiap anggota saling menopang dan bertumbuh dalam kasih.</p>
                        </div>`
                    },
                    {
                        type: 'received',
                        content: `<div class="message-content">
                            <p><strong>Dasar Gerejawi:</strong> Secara aturan gerejawi di GKPS, pelayanan parjumatanganan juga sudah diaturkan dalam:</p>
                            <ul>
                                <li>Tata Laksana GKPS</li>
                                <li>Pedoman Parjumatanganan di GKPS</li>
                                <li>Hendaknya dituliskan dalam Tata Kerja Majelis Jemaat di masing-masing jemaat</li>
                            </ul>
                        </div>`
                    }
                ]
            },
            
            'tujuan': {
                title: 'üéØ B.II. TUJUAN PARTONGGOAN JUMATANGANAN',
                desc: 'Tujuan partonggoan jumatanganan',
                messages: [
                    {
                        type: 'received',
                        content: `<div class="message-title">B.II. TUJUAN PARTONGGOAN JUMATANGANAN</div>
                        <div class="message-content">
                            <ol>
                                <li>Menumbuhkan iman warga dari setiap keluarga jemaat.</li>
                                <li>Mempererat kasih antar keluarga.</li>
                                <li>Menghadirkan suasana ibadah dalam keluarga.</li>
                                <li>Mendorong keluarga untuk aktif dalam pelayanan.</li>
                                <li>Menjadi sarana pembinaan dan pelayanan.</li>
                            </ol>
                        </div>`
                    }
                ]
            },
            
            'alasan': {
                title: '‚ùì B.III. ALASAN',
                desc: 'Mengapa diperlukan',
                messages: [
                    {
                        type: 'received',
                        content: `<div class="message-title">B.III. ALASAN / MENGAPA DIPERLUKAN PARTONGGOAN JUMATANGANAN</div>
                        <div class="message-content">
                            <ol>
                                <li>Pelayanan Gereja hadir di tengah keluarga.</li>
                                <li>Ibadah keluarga memperkuat iman dan kasih.</li>
                                <li>Menjangkau jemaat yang jarang hadir mengikuti ibadah-ibadah yang dilaksanakan jemaat.</li>
                                <li>Membangun komunitas keluarga jumatanganan yang saling menopang.</li>
                            </ol>
                        </div>`
                    }
                ]
            },
            
            'struktur': {
                title: 'üë• B.IV. STRUKTUR PELAKSANA',
                desc: 'Struktur organisasi',
                messages: [
                    {
                        type: 'received',
                        content: `<div class="message-title">B.IV. STRUKTUR PELAKSANA</div>
                        <div class="message-content">
                            <p><strong>1. Pimpinan Majelis Jemaat (PMJ)</strong><br>
                            Menetapkan Jadwal Pelaksanaan Partonggoan Parjuma tanganan.</p>
                            
                            <p><strong>2. Sintua</strong><br>
                            Membina, memimpin, menyiapkan Pelayanan, dan melaporkan pelaksanaan partonggoan parjumatanganan.</p>
                            
                            <p><strong>3. Keluarga Tempat Pelaksanaan</strong><br>
                            Keluarga tempat pelaksanaan partonggoan parjumatanganan menyediakan tempat dan membantu persiapan.</p>
                        </div>`
                    },
                    {
                        type: 'sent',
                        content: `<div class="message-content">
                            <p><strong>4. Pengurus/Koordinator Pelayanan Sektor</strong><br>
                            Membagi keluarga di sektornya dengan berkoordinasi dengan Pimpinan Majelis Jemaat kepada kelompok parjumatanganan.</p>
                            <p><strong>Yang perlu dipertimbangkan dalam pembagian ini:</strong></p>
                            <ul>
                                <li>Jarak tempuh</li>
                                <li>Wilayah</li>
                                <li>Pertimbangan Adat/budaya marnasi besan, nasianggi dll bila keluarga yang bersangkutan keberatan</li>
                            </ul>
                            <p><strong>Peran:</strong> Mengawasi jalannya parjuma tanganan.</p>
                        </div>`
                    },
                    {
                        type: 'received',
                        content: `<div class="message-content">
                            <p><strong>5. Pendeta</strong><br>
                            Membimbing dan memberi pembekalan Topik yang telah di tetapkan untuk Sintua yang akan melaksanakan Pengajaran.</p>
                        </div>`
                    }
                ]
            },
            
            'petunjuk': {
                title: 'üìã B.V. PETUNJUK PELAKSANAAN',
                desc: 'Panduan lengkap',
                messages: [
                    {
                        type: 'received',
                        content: `<div class="message-title">B.V. PETUNJUK PELAKSANAAN</div>
                        <div class="message-content">
                            <ol>
                                <li>Satu orang Sintua membina <span class="highlight">empat (4) keluarga</span>.</li>
                                <li>Partonggoan parjumatanganan dilaksanakan paling sedikit <span class="highlight">empat (4) kali setahun</span>.</li>
                                <li>Diumumkan-diwartakan dalam warta jemaat sebanyak <span class="highlight">dua (2) kali</span> sebelum pelaksanaan.</li>
                                <li>Diaksanakan secara bergiliran di rumah warga jemaat yang menjadi jumatanganan dari Sintua.</li>
                                <li>Partonggoan Parjumatanganan <span class="highlight">bukan forum untuk membahas masalah pribadi</span>, tetapi fokus kepada ibadah dan doa.</li>
                                <li>Setelah selesai pelaksanaan partonggoan parjumatanganan, Sintua wajib membuat laporan kehadiran kepada Pengurus atau koordinator pelayanan Sektor dan Pengurus atau koordinator pelayanan Sektor melaporkannya kepada Pimpinan Majelis Jemaat.</li>
                                <li>Pelaksanaan pelayanan partonggoan parjumatanganan diumumkan/diwartakan dalam warta jemaat oleh Sintua parjumatanganan, dengan menuliskan jumlah kehadiran dan jumlah Persembahannya.</li>
                                <li>Durasi ibadah <span class="highlight">60‚Äì90 menit</span>.</li>
                            </ol>
                        </div>`
                    }
                ]
            },
            
            'tata-ibadah': {
                title: 'üôè B.VI. TATA IBADAH PARJUMA TANGANAN',
                desc: 'Urutan ibadah',
                messages: [
                    {
                        type: 'received',
                        content: `<div class="message-title">B.VI. TATA IBADAH PARJUMA TANGANAN</div>
                        <div class="message-content">
                            <p>Adapun usulan konsep untuk Tata Ibadah pelaksanaan partonggoan parjumatanganan adalah:</p>
                            <ol>
                                <li><strong>Saat Teduh</strong></li>
                                <li><strong>Votum ‚Äì Introitus - Doa</strong></li>
                                <li><strong>Nyanyian</strong></li>
                                <li><strong>Khotbah (Pengajaran)</strong></li>
                                <li><strong>Nyanyian</strong></li>
                                <li><strong>Doa syafaat atau Doa Berantai</strong> (Pokok-Pokok Doa didaftarkan)</li>
                                <li><strong>Nyanyian (Persembahan)</strong></li>
                                <li><strong>Doa Persembahan ‚Äì Doa Bapa Kami ‚Äì Berkat</strong></li>
                            </ol>
                        </div>`
                    }
                ]
            },
            
            'etika': {
                title: 'ü§ù B.VII. ETIKA IBADAH DAN KOMUNIKASI SINTUA',
                desc: 'Etika ibadah & komunikasi',
                messages: [
                    {
                        type: 'received',
                        content: `<div class="message-title">B.VII. ETIKA IBADAH DAN KOMUNIKASI SINTUA</div>
                        <div class="message-content">
                            <p><strong>1. Sikap Ibadah</strong></p>
                            <ul>
                                <li>‚úì Datang tepat waktu dan berpakaian sopan.</li>
                                <li>‚úì Menjaga ketenangan dan hormat satu dengan yang lain.</li>
                                <li>‚úì Menjaga suasana rohani, penuh kasih dan damai.</li>
                                <li>‚úì Tidak menggunakan ibadah untuk keluhan pribadi.</li>
                            </ul>
                        </div>`
                    },
                    {
                        type: 'sent',
                        content: `<div class="message-content">
                            <p><strong>2. Etika Komunikasi</strong></p>
                            <ul>
                                <li>‚úì Berbicara dengan lembut dan penuh kasih (<em>Kolose 4:6</em>).</li>
                                <li>‚úì Menjaga kerahasiaan pokok doa jemaat.</li>
                                <li>‚úì Meneladani Kristus dalam tutur kata.</li>
                                <li>‚úì Bijak menggunakan media sosial.</li>
                                <li>‚úì Cepat mendengar, lambat berkata-kata, lambat marah (<em>Yakobus 1:19</em>).</li>
                            </ul>
                        </div>`
                    }
                ]
            },
            
            'evaluasi': {
                title: 'üìä B.VIII. EVALUASI IBADAH PARJUMA TANGANAN',
                desc: 'Evaluasi ibadah',
                messages: [
                    {
                        type: 'received',
                        content: `<div class="message-title">B.VIII. EVALUASI IBADAH PARJUMA TANGANAN</div>
                        <div class="message-content">
                            <ol>
                                <li>Evaluasi ibadah parjumatanganan dilaksanakan pada minggu berikutnya setelah pelaksanaan partonggoan parjumatanganan yang dilaksanakan setelah sermon jemaat atau waktu yang ditentukan oleh Pimpinan Majelis Jemaat.</li>
                                <li><strong>Tujuannya:</strong> Meningkatkan mutu pelayanan dan kebersamaan.</li>
                                <li>Warga yang butuh Pelayanan pastoral tindak lanjut tidak dibicarakan dalam rapat evaluasi tersebut, akan tetapi hanya dibicarakan dengan Porhanger atau Wakil Porhanger secara tertutup, agar ditindaklanjuti kepada Pendeta, dan atau Penginjil yang ada di Resort tersebut.</li>
                            </ol>
                        </div>`
                    }
                ]
            },
            
            'pengajaran': {
                title: 'üë®‚Äçüè´ B.IX. SINTUA MENGADAKAN PENGAJARAN',
                desc: 'Tanggung jawab & materi',
                messages: [
                    {
                        type: 'received',
                        content: `<div class="message-title">B.IX. SINTUA MENGADAKAN PENGAJARAN</div>
                        <div class="message-content">
                            <p><strong>A. Tanggung Jawab Sintua</strong><br>
                            Sintua bertanggung jawab melaksanakan pembinaan rohani kepada keluarga binaannya.</p>
                            
                            <p><strong>Tujuan Pengajaran:</strong></p>
                            <ul>
                                <li>Memperdalam ajaran iman Kristen.</li>
                                <li>Membina kehidupan rohani keluarga.</li>
                                <li>Menanamkan nilai kasih dan pelayanan.</li>
                            </ul>
                        </div>`
                    },
                    {
                        type: 'sent',
                        content: `<div class="message-content">
                            <p><strong>B. Bentuk Pengajaran</strong></p>
                            <ul>
                                <li>Kunjungan langsung dalam suka maupun duka dan Berdoa bersama.</li>
                                <li>Diskusi Alkitab dan doa bersama.</li>
                                <li>Bimbingan rohani bagi keluarga bergumul dan doa bersama.</li>
                            </ul>
                        </div>`
                    },
                    {
                        type: 'received',
                        content: `<div class="message-content">
                            <p><strong>C. Materi Pengajaran</strong></p>
                            <ul>
                                <li>Pengajaran tematik dari Alkitab</li>
                                <li>Tema tahunan gereja</li>
                                <li>Sub Tema Tahunan</li>
                                <li>Ajaran GKPS lainnya</li>
                                <li>Renungan Harian setiap harinya (distribusi)</li>
                                <li>Disesuaikan dengan Materi dari Kantor Sinode</li>
                            </ul>
                        </div>`
                    },
                    {
                        type: 'sent',
                        content: `<div class="message-content">
                            <p><strong>D. Sikap Sintua</strong></p>
                            <ul>
                                <li>Rendah hati</li>
                                <li>Tidak menggurui</li>
                                <li>Mudah dimengerti</li>
                                <li>Menjaga rahasia</li>
                            </ul>
                        </div>`
                    }
                ]
            },
            
            'hasil': {
                title: 'üèÜ B.X. HASIL YANG DIHARAPKAN',
                desc: 'Target pelayanan',
                messages: [
                    {
                        type: 'received',
                        content: `<div class="message-title">B.X. HASIL YANG DIHARAPKAN</div>
                        <div class="message-content">
                            <div class="bible-verse">
                                <p>Keluarga bertumbuh dalam iman dan menjadi saksi Kristus</p>
                                <span class="bible-reference">1 Timotius 4:12</span>
                            </div>
                        </div>`
                    }
                ]
            },
            
            'lampiran': {
                title: 'üìé C. LAMPIRAN - FORMAT LAPORAN SINTUA',
                desc: 'Format laporan sintua',
                messages: [
                    {
                        type: 'received',
                        content: `<div class="message-title">C. LAMPIRAN - FORMAT LAPORAN SINTUA PARJUMATANGANAN</div>
                        <div class="message-content">
                            <p><strong>üìã Format Laporan Sintua Parjumatanganan</strong></p>
                        </div>`
                    }
                ]
            }
        };

        // Show section function
        function showSection(sectionId) {
            currentSection = sectionId;
            
            // Update active chat item
            document.querySelectorAll('.chat-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.chat-item').classList.add('active');
            
            // Update header
            document.getElementById('currentSectionTitle').textContent = sections[sectionId].title;
            document.getElementById('currentSectionDesc').textContent = sections[sectionId].desc;
            
            // Clear and populate messages
            const chatMessages = document.getElementById('chatMessages');
            chatMessages.innerHTML = '';
            
            sections[sectionId].messages.forEach((msg, index) => {
                setTimeout(() => {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = `message message-${msg.type}`;
                    messageDiv.innerHTML = msg.content;
                    
                    const timeDiv = document.createElement('div');
                    timeDiv.className = 'message-time';
                    timeDiv.textContent = getCurrentTime();
                    
                    messageDiv.appendChild(timeDiv);
                    chatMessages.appendChild(messageDiv);
                    
                    // Auto scroll to bottom
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, index * 100);
            });
            
            // Add form for lampiran section
            if (sectionId === 'lampiran') {
                setTimeout(() => {
                    const formSection = document.createElement('div');
                    formSection.className = 'form-section';
                    formSection.innerHTML = `
                        <div class="form-title">
                            <i class="fas fa-clipboard-list"></i> Format Laporan Sintua Parjumatanganan
                        </div>
                        
                        <div class="form-group">
                            <label for="nama"><i class="fas fa-user"></i> a. Nama</label>
                            <input type="text" id="nama" class="form-control" placeholder="Contoh: St. Sibujur Uhur Saragih">
                        </div>

                        <div class="form-group">
                            <label for="jumatanganan"><i class="fas fa-users"></i> b. Jumatanganan (4 Keluarga)</label>
                            <textarea id="jumatanganan" class="form-control" placeholder="Contoh:
Kel. Bp. Siboan Damei Purba
Kel. Bp. Sibasar Damanik
Kel. Bp. Sirajin Tumang Sinaga
Kel. Bp. Siparayakon Sihite"></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="tanggal"><i class="fas fa-calendar"></i> c. Tanggal Pelaksanaan</label>
                                <input type="date" id="tanggal" class="form-control">
                            </div>

                            <div class="form-group">
                                <label for="tempat"><i class="fas fa-home"></i> d. Tempat Rumah</label>
                                <input type="text" id="tempat" class="form-control" placeholder="Contoh: Kel Bp. Siboan Damei Purba">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="kehadiran"><i class="fas fa-user-friends"></i> e. Jumlah Keluarga Hadir</label>
                            <div class="form-row">
                                <div class="form-group">
                                    <input type="number" class="form-control" placeholder="Bapa........ halak">
                                </div>
                                <div class="form-group">
                                    <input type="number" class="form-control" placeholder="Inang........ halak">
                                </div>
                                <div class="form-group">
                                    <input type="number" class="form-control" placeholder="Namaposo..... halak">
                                </div>
                                <div class="form-group">
                                    <input type="number" class="form-control" placeholder="Sikolah Minggu halak">
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="pokok-doa"><i class="fas fa-hands-praying"></i> f. Pokok-pokok Doa</label>
                            <textarea id="pokok-doa" class="form-control" placeholder="Tuliskan pokok-pokok doa yang didoakan"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="galangan"><i class="fas fa-coins"></i> g. Galangan (Persembahan)</label>
                            <input type="text" id="galangan" class="form-control" placeholder="Rp.................">
                        </div>

                        <div class="form-group">
                            <label for="tema"><i class="fas fa-lightbulb"></i> h. Tema Renungan</label>
                            <input type="text" id="tema" class="form-control" placeholder="Contoh: Martangkupas Pasonang Paruhuran">
                        </div>

                        <div class="form-group">
                            <label for="catatan"><i class="fas fa-exclamation-triangle"></i> i. Catatan Khusus untuk Tindak Lanjut Pastoral</label>
                            <textarea id="catatan" class="form-control" placeholder="Contoh: KDRT, Sirang so sirang, Percobaan Bunuh Diri, dll"></textarea>
                        </div>

                        <button class="action-btn" onclick="saveForm()">
                            <i class="fas fa-save"></i> Simpan Laporan
                        </button>
                    `;
                    chatMessages.appendChild(formSection);
                    
                    // Load saved form data
                    loadFormData();
                }, sections[sectionId].messages.length * 100);
            }
        }

        // Get current time
        function getCurrentTime() {
            const now = new Date();
            return now.getHours() + ':' + now.getMinutes().toString().padStart(2, '0');
        }

        // Filter chats
        function filterChats() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const chatItems = document.querySelectorAll('.chat-item');
            
            chatItems.forEach(item => {
                const title = item.querySelector('.chat-title').textContent.toLowerCase();
                const desc = item.querySelector('.chat-desc').textContent.toLowerCase();
                
                if (title.includes(searchTerm) || desc.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // Scroll to top
        function scrollToTop() {
            document.getElementById('chatMessages').scrollTop = 0;
        }

        // Show install guide
        function showInstallGuide() {
            const guide = `
üì± CARA MENAMBAHKAN KE LAYAR UTAMA HP:

ANDROID (Chrome):
1. Buka file ini di Chrome
2. Tap ‚ãÆ (titik tiga) di pojok kanan atas
3. Pilih "Tambahkan ke Layar utama"
4. Beri nama "Buku Saku GKPS"
5. Tap "Tambah"
6. Buka dari home screen HP Anda

IPHONE (Safari):
1. Buka file ini di Safari
2. Tap tombol Share (üì§) di bawah
3. Scroll cari "Tambah ke Layar Utama"
4. Beri nama "Buku Saku GKPS"
5. Tap "Tambah"
6. Buka dari home screen iPhone Anda

üí° TIPS:
‚Ä¢ File lokal TIDAK BISA di-install otomatis
‚Ä¢ Setelah ditambahkan ke home screen, aplikasi bisa dibuka OFFLINE!
‚Ä¢ Untuk pengalaman terbaik, upload file ke Google Drive dan buka via link
`;
            alert(guide);
        }

        // Toggle theme (dark/light)
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const button = event.target.closest('button');
            if (document.body.classList.contains('dark-mode')) {
                button.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                button.innerHTML = '<i class="fas fa-moon"></i>';
            }
        }

        // Share app
        function shareApp() {
            if (navigator.share) {
                navigator.share({
                    title: 'Buku Saku GKPS',
                    text: 'Buku Saku Partonggoan Parjumatanganan GKPS - Download sekarang!',
                    url: window.location.href
                });
            } else {
                alert('Fitur share tidak tersedia di browser ini. Silakan copy URL manual.');
            }
        }

        // Save form data
        function saveForm() {
            const formData = {
                nama: document.getElementById('nama')?.value || '',
                jumatanganan: document.getElementById('jumatanganan')?.value || '',
                tanggal: document.getElementById('tanggal')?.value || '',
                tempat: document.getElementById('tempat')?.value || '',
                pokokDoa: document.getElementById('pokok-doa')?.value || '',
                galangan: document.getElementById('galangan')?.value || '',
                tema: document.getElementById('tema')?.value || '',
                catatan: document.getElementById('catatan')?.value || ''
            };
            
            localStorage.setItem('gkpsForm', JSON.stringify(formData));
            alert('‚úÖ Laporan berhasil disimpan!');
        }

        // Load form data
        function loadFormData() {
            const savedData = localStorage.getItem('gkpsForm');
            if (savedData) {
                const data = JSON.parse(savedData);
                if (document.getElementById('nama')) document.getElementById('nama').value = data.nama;
                if (document.getElementById('jumatanganan')) document.getElementById('jumatanganan').value = data.jumatanganan;
                if (document.getElementById('tanggal')) document.getElementById('tanggal').value = data.tanggal;
                if (document.getElementById('tempat')) document.getElementById('tempat').value = data.tempat;
                if (document.getElementById('pokok-doa')) document.getElementById('pokok-doa').value = data.pokokDoa;
                if (document.getElementById('galangan')) document.getElementById('galangan').value = data.galangan;
                if (document.getElementById('tema')) document.getElementById('tema').value = data.tema;
                if (document.getElementById('catatan')) document.getElementById('catatan').value = data.catatan;
            }
        }

        // Clear form
        function clearForm() {
            if (confirm('Hapus semua data form?')) {
                localStorage.removeItem('gkpsForm');
                document.querySelectorAll('.form-control').forEach(input => {
                    input.value = '';
                });
                alert('Form berhasil dibersihkan!');
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            showSection('pendahuluan');
            
            // Auto-save form on change
            document.addEventListener('change', function(e) {
                if (e.target.classList.contains('form-control')) {
                    saveForm();
                }
            });
        });
    </script>
</body>
</html>
